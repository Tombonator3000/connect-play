@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Pro:ital,wght@0,400;0,600;1,400&display=swap');

/* Shadows of the 1920s - Lovecraftian Horror Design System */

@layer base {
  :root {
    /* Core palette - Dark cosmic horror */
    --background: 230 25% 3%;
    --foreground: 40 20% 80%;
    
    --card: 230 30% 8%;
    --card-foreground: 40 20% 85%;
    
    --popover: 230 30% 6%;
    --popover-foreground: 40 20% 80%;
    
    /* Blood red accent */
    --primary: 348 75% 50%;
    --primary-foreground: 40 20% 95%;
    
    /* Eldritch purple */
    --secondary: 280 50% 20%;
    --secondary-foreground: 280 30% 85%;
    
    --muted: 230 20% 12%;
    --muted-foreground: 40 10% 50%;
    
    /* Amber/sepia accents */
    --accent: 35 80% 45%;
    --accent-foreground: 35 20% 95%;
    
    --destructive: 0 72% 45%;
    --destructive-foreground: 0 0% 98%;
    
    --border: 35 30% 20%;
    --input: 230 25% 15%;
    --ring: 348 75% 50%;
    
    --radius: 0.75rem;
    
    /* Custom game tokens */
    --doom: 348 75% 50%;
    --sanity: 280 60% 55%;
    --health: 0 70% 45%;
    --insight: 200 80% 55%;
    --sepia: 35 50% 65%;
    --parchment: 35 40% 85%;
    --leather: 25 40% 12%;
    --gold: 45 90% 55%;
    
    /* Gradients */
    --gradient-doom: linear-gradient(135deg, hsl(348 75% 40%), hsl(0 60% 35%));
    --gradient-sanity: linear-gradient(135deg, hsl(280 50% 30%), hsl(300 60% 45%));
    --gradient-eldritch: linear-gradient(180deg, hsl(230 25% 3%) 0%, hsl(280 30% 8%) 100%);
    --gradient-vignette: radial-gradient(circle at center, transparent 30%, rgba(0,0,0,0.8) 100%);
    
    /* Shadows */
    --shadow-doom: 0 0 30px hsla(348, 75%, 50%, 0.4);
    --shadow-glow: 0 0 20px hsla(35, 80%, 45%, 0.3);
  }

  .dark {
    --background: 230 25% 3%;
    --foreground: 40 20% 80%;
    --card: 230 30% 8%;
    --card-foreground: 40 20% 85%;
    --popover: 230 30% 6%;
    --popover-foreground: 40 20% 80%;
    --primary: 348 75% 50%;
    --primary-foreground: 40 20% 95%;
    --secondary: 280 50% 20%;
    --secondary-foreground: 280 30% 85%;
    --muted: 230 20% 12%;
    --muted-foreground: 40 10% 50%;
    --accent: 35 80% 45%;
    --accent-foreground: 35 20% 95%;
    --destructive: 0 72% 45%;
    --destructive-foreground: 0 0% 98%;
    --border: 35 30% 20%;
    --input: 230 25% 15%;
    --ring: 348 75% 50%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: 'Crimson Pro', serif;
  }
}

@layer components {
  /* Custom scrollbar */
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    background: hsl(var(--leather));
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: hsl(var(--border));
    border-radius: 3px;
  }
  
  /* Hex clip path */
  .hex-clip {
    clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
  }
  
  /* Hide scrollbar utility */
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  /* Text stroke for important text */
  .text-stroke-sm {
    -webkit-text-stroke: 0.5px rgba(0,0,0,0.5);
  }
  
  /* Font display for titles */
  .font-display {
    font-family: 'Cinzel Decorative', serif;
  }

  /* ==========================================================================
     BOARD GAME AESTHETIC - Oil Painting Tile System
     ========================================================================== */

  /* Chiaroscuro lighting overlay - dramatic shadow effect */
  .chiaroscuro-overlay {
    background: radial-gradient(
      ellipse at 30% 30%,
      transparent 0%,
      rgba(0, 0, 0, 0.2) 50%,
      rgba(0, 0, 0, 0.5) 100%
    );
    mix-blend-mode: multiply;
  }

  /* Oil painting texture - subtle canvas effect */
  .oil-texture {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E");
    mix-blend-mode: overlay;
  }

  /* ==========================================================================
     TILE FLOOR TEXTURES - Fallback backgrounds when no image
     ========================================================================== */

  /* Dark wood flooring - manor, library, study */
  .tile-darkwood {
    background: linear-gradient(
      135deg,
      hsl(25 30% 12%) 0%,
      hsl(25 25% 8%) 50%,
      hsl(25 35% 10%) 100%
    );
  }

  /* Cobblestone - streets, squares, markets */
  .tile-cobblestone {
    background: 
      radial-gradient(ellipse at 20% 30%, hsl(230 15% 18%) 0%, transparent 40%),
      radial-gradient(ellipse at 80% 70%, hsl(230 15% 15%) 0%, transparent 40%),
      linear-gradient(180deg, hsl(230 20% 12%) 0%, hsl(230 15% 8%) 100%);
  }

  /* Stone flooring - church, crypt, basement */
  .tile-stone {
    background: linear-gradient(
      145deg,
      hsl(230 15% 15%) 0%,
      hsl(230 10% 10%) 50%,
      hsl(230 20% 12%) 100%
    );
  }

  /* Carpet/rug - library, manor rooms */
  .tile-carpet {
    background: linear-gradient(
      135deg,
      hsl(348 40% 15%) 0%,
      hsl(348 35% 12%) 50%,
      hsl(348 30% 10%) 100%
    );
  }

  /* Marble flooring - museum, grand halls */
  .tile-marble {
    background: linear-gradient(
      160deg,
      hsl(210 10% 20%) 0%,
      hsl(210 5% 15%) 50%,
      hsl(210 10% 18%) 100%
    );
  }

  /* Water/dock areas */
  .tile-water {
    background: linear-gradient(
      180deg,
      hsl(200 40% 12%) 0%,
      hsl(200 50% 8%) 50%,
      hsl(200 35% 15%) 100%
    );
  }

  /* ==========================================================================
     GLOW EFFECTS - Atmospheric lighting
     ========================================================================== */

  /* Gaslight warm glow */
  .gaslight-glow {
    box-shadow: inset 0 0 30px hsla(35, 80%, 45%, 0.15);
  }

  /* Ritual eldritch glow */
  .ritual-glow {
    box-shadow: inset 0 0 40px hsla(280, 60%, 40%, 0.2);
  }

  /* Supernatural green glow */
  .eldritch-glow {
    box-shadow: inset 0 0 35px hsla(120, 40%, 30%, 0.15);
  }

  /* Gaslight animation */
  .animate-gaslight {
    animation: gaslight-pulse 4s ease-in-out infinite;
  }

  @keyframes gaslight-pulse {
    0%, 100% { box-shadow: inset 0 0 30px hsla(35, 80%, 45%, 0.15); }
    50% { box-shadow: inset 0 0 40px hsla(35, 80%, 50%, 0.25); }
  }
}

@layer utilities {
  /* Animations */
  @keyframes float-up {
    0% {
      opacity: 1;
      transform: translateY(0);
    }
    100% {
      opacity: 0;
      transform: translateY(-60px);
    }
  }
  
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    10% { transform: translateX(-8px) rotate(-1deg); }
    20% { transform: translateX(8px) rotate(1deg); }
    30% { transform: translateX(-8px) rotate(-1deg); }
    40% { transform: translateX(8px) rotate(1deg); }
    50% { transform: translateX(-4px); }
  }
  
  @keyframes doom-flicker {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.5; }
  }
  
  @keyframes lantern {
    0%, 100% { opacity: 0.15; transform: scale(4); }
    50% { opacity: 0.25; transform: scale(4.5); }
  }
  
  @keyframes wiggle {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-10deg); }
    75% { transform: rotate(10deg); }
  }
  
  @keyframes particle {
    0% {
      opacity: 1;
      transform: translate(0, 0) scale(1);
    }
    100% {
      opacity: 0;
      transform: translate(var(--tx), var(--ty)) scale(0.5);
    }
  }
  
  .animate-float-up {
    animation: float-up 2s ease-out forwards;
  }
  
  .animate-shake {
    animation: shake 0.5s ease-in-out;
  }
  
  .animate-lantern {
    animation: lantern 3s ease-in-out infinite;
  }
  
  .animate-wiggle {
    animation: wiggle 0.5s ease-in-out;
  }
  
  .particle {
    position: absolute;
    left: 50%;
    top: 50%;
    animation: particle 1s ease-out forwards;
  }
  
  /* Madness visual effects - Complete from Game Design Bible */
  .madness-hallucination {
    animation: hallucinate 4s ease-in-out infinite;
  }
  
  @keyframes hallucinate {
    0%, 100% { filter: hue-rotate(0deg); }
    50% { filter: hue-rotate(30deg) blur(1px); }
  }
  
  .madness-paranoia {
    animation: paranoia 2s ease-in-out infinite;
  }
  
  @keyframes paranoia {
    0%, 100% { filter: saturate(1) sepia(0); }
    50% { filter: saturate(1.5) sepia(0.3); }
  }

  .madness-hysteria {
    animation: hysteria-pulse 0.5s ease-in-out infinite;
  }
  
  @keyframes hysteria-pulse {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-2px) rotate(-0.5deg); }
    75% { transform: translateX(2px) rotate(0.5deg); }
  }
  
  .madness-catatonia {
    filter: saturate(0.5) brightness(0.8);
    transition: all 0.5s ease;
  }
  
  .madness-obsession .interactable {
    animation: obsession-glow 1.5s ease-in-out infinite;
  }
  
  @keyframes obsession-glow {
    0%, 100% { box-shadow: 0 0 5px hsl(var(--gold)); }
    50% { box-shadow: 0 0 20px hsl(var(--gold)); }
  }
  
  .madness-amnesia {
    position: relative;
  }
  
  .madness-amnesia::after {
    content: '';
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at center, transparent 20%, rgba(0,0,0,0.5) 100%);
    pointer-events: none;
    animation: amnesia-fog 3s ease-in-out infinite;
  }
  
  @keyframes amnesia-fog {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 0.9; }
  }
  
  .madness-night-terrors {
    animation: night-terrors 5s ease-in-out infinite;
  }
  
  @keyframes night-terrors {
    0%, 90%, 100% { filter: brightness(1); }
    92% { filter: brightness(1.5); }
    94% { filter: brightness(0.7); }
  }
  
  .madness-dark-insight {
    animation: dark-insight 3s ease-in-out infinite;
  }
  
  @keyframes dark-insight {
    0%, 100% {
      filter: hue-rotate(0deg);
      box-shadow: inset 0 0 50px hsla(280, 60%, 50%, 0.2);
    }
    50% {
      filter: hue-rotate(10deg);
      box-shadow: inset 0 0 80px hsla(280, 60%, 50%, 0.4);
    }
  }

  /* Overlay animations */
  @keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
      opacity: 0.4;
    }
    50% {
      transform: translateY(-20px);
      opacity: 0.7;
    }
  }

  .animate-fadeIn {
    animation: fadeIn 0.5s ease-out forwards;
  }

  .animate-float {
    animation: float 4s ease-in-out infinite;
  }

  /* ==========================================================================
     WEATHER SYSTEM ANIMATIONS - "The Whispering Elements"
     ========================================================================== */

  /* FOG - Drifting cloud particles */
  @keyframes fog-drift {
    0% {
      transform: translateX(-100%) translateY(0) scale(1);
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      transform: translateX(200%) translateY(-20px) scale(1.2);
      opacity: 0;
    }
  }

  .animate-fog-drift {
    animation: fog-drift 20s linear infinite;
  }

  /* RAIN - Falling rain streaks */
  @keyframes rain-fall {
    0% {
      transform: translateY(-100px) rotate(15deg);
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      transform: translateY(100vh) rotate(15deg);
      opacity: 0;
    }
  }

  .animate-rain-fall {
    animation: rain-fall 0.5s linear infinite;
  }

  /* Rain container with diagonal effect */
  .weather-rain {
    background: linear-gradient(
      to bottom right,
      transparent 0%,
      rgba(100, 150, 200, 0.02) 50%,
      transparent 100%
    );
  }

  /* MIASMA - Floating supernatural particles */
  @keyframes miasma-float {
    0%, 100% {
      transform: translate(0, 0) scale(1);
      opacity: 0.3;
    }
    25% {
      transform: translate(20px, -30px) scale(1.1);
      opacity: 0.5;
    }
    50% {
      transform: translate(-10px, -50px) scale(0.9);
      opacity: 0.4;
    }
    75% {
      transform: translate(30px, -20px) scale(1.05);
      opacity: 0.5;
    }
  }

  .animate-miasma-float {
    animation: miasma-float 8s ease-in-out infinite;
  }

  /* Miasma skull glimpses */
  @keyframes miasma-skull {
    0%, 80%, 100% {
      opacity: 0;
      transform: scale(0.8) rotate(-10deg);
    }
    85%, 95% {
      opacity: 0.3;
      transform: scale(1) rotate(0deg);
    }
  }

  .animate-miasma-skull {
    animation: miasma-skull 12s ease-in-out infinite;
  }

  /* COSMIC STATIC - Reality distortion */
  @keyframes cosmic-noise {
    0%, 100% {
      transform: translate(0, 0);
    }
    10% {
      transform: translate(-2px, 1px);
    }
    20% {
      transform: translate(2px, -1px);
    }
    30% {
      transform: translate(-1px, 2px);
    }
    40% {
      transform: translate(1px, -2px);
    }
    50% {
      transform: translate(-2px, -1px);
    }
    60% {
      transform: translate(2px, 1px);
    }
    70% {
      transform: translate(-1px, -2px);
    }
    80% {
      transform: translate(1px, 2px);
    }
    90% {
      transform: translate(-2px, 2px);
    }
  }

  .animate-cosmic-noise {
    animation: cosmic-noise 0.3s steps(10) infinite;
  }

  /* Cosmic glitch bars */
  @keyframes glitch-bar {
    0%, 90%, 100% {
      transform: translateX(-100%);
      opacity: 0;
    }
    92%, 98% {
      transform: translateX(0);
      opacity: 1;
    }
  }

  .animate-glitch-bar {
    animation: glitch-bar 4s ease-in-out infinite;
  }

  /* Cosmic glitch overlay */
  @keyframes cosmic-glitch {
    0%, 95%, 100% {
      opacity: 0;
      transform: translateX(0);
    }
    96% {
      opacity: 0.5;
      transform: translateX(-5px);
    }
    97% {
      opacity: 0.3;
      transform: translateX(5px);
    }
    98% {
      opacity: 0.4;
      transform: translateX(-3px);
    }
    99% {
      opacity: 0.2;
      transform: translateX(3px);
    }
  }

  .animate-cosmic-glitch {
    animation: cosmic-glitch 3s ease-in-out infinite;
  }

  /* Cosmic flicker particles */
  @keyframes cosmic-flicker {
    0%, 100% {
      opacity: 0;
      transform: scale(0);
    }
    10%, 90% {
      opacity: 0.8;
      transform: scale(1);
    }
    50% {
      opacity: 0.3;
      transform: scale(1.2);
    }
  }

  .animate-cosmic-flicker {
    animation: cosmic-flicker 1s ease-in-out infinite;
  }

  /* Weather visual classes for different weather types */
  .weather-fog {
    background: radial-gradient(
      ellipse at center,
      rgba(100, 120, 140, 0.1) 0%,
      rgba(60, 80, 100, 0.2) 50%,
      rgba(40, 60, 80, 0.3) 100%
    );
  }

  .weather-rain {
    background: linear-gradient(
      180deg,
      rgba(40, 60, 80, 0.1) 0%,
      rgba(60, 80, 100, 0.15) 100%
    );
  }

  .weather-miasma {
    background: radial-gradient(
      ellipse at 30% 70%,
      rgba(100, 50, 150, 0.15) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse at 70% 30%,
      rgba(50, 100, 50, 0.1) 0%,
      transparent 50%
    );
  }

  .weather-cosmic-static {
    background: radial-gradient(
      circle at center,
      rgba(0, 200, 200, 0.05) 0%,
      rgba(200, 0, 200, 0.05) 50%,
      transparent 100%
    );
  }

  .weather-clear {
    /* No visual effect for clear weather */
  }
}
