@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Crimson+Pro:ital,wght@0,400;0,600;1,400&display=swap');

/* Shadows of the 1920s - Lovecraftian Horror Design System */

@layer base {
  :root {
    /* Core palette - Dark cosmic horror */
    --background: 230 25% 3%;
    --foreground: 40 20% 80%;
    
    --card: 230 30% 8%;
    --card-foreground: 40 20% 85%;
    
    --popover: 230 30% 6%;
    --popover-foreground: 40 20% 80%;
    
    /* Blood red accent */
    --primary: 348 75% 50%;
    --primary-foreground: 40 20% 95%;
    
    /* Eldritch purple */
    --secondary: 280 50% 20%;
    --secondary-foreground: 280 30% 85%;
    
    --muted: 230 20% 12%;
    --muted-foreground: 40 10% 50%;
    
    /* Amber/sepia accents */
    --accent: 35 80% 45%;
    --accent-foreground: 35 20% 95%;
    
    --destructive: 0 72% 45%;
    --destructive-foreground: 0 0% 98%;
    
    --border: 35 30% 20%;
    --input: 230 25% 15%;
    --ring: 348 75% 50%;
    
    --radius: 0.75rem;
    
    /* Custom game tokens */
    --doom: 348 75% 50%;
    --sanity: 280 60% 55%;
    --health: 0 70% 45%;
    --insight: 200 80% 55%;
    --sepia: 35 50% 65%;
    --parchment: 35 40% 85%;
    --leather: 25 40% 12%;
    --gold: 45 90% 55%;
    
    /* Gradients */
    --gradient-doom: linear-gradient(135deg, hsl(348 75% 40%), hsl(0 60% 35%));
    --gradient-sanity: linear-gradient(135deg, hsl(280 50% 30%), hsl(300 60% 45%));
    --gradient-eldritch: linear-gradient(180deg, hsl(230 25% 3%) 0%, hsl(280 30% 8%) 100%);
    --gradient-vignette: radial-gradient(circle at center, transparent 30%, rgba(0,0,0,0.8) 100%);
    
    /* Shadows */
    --shadow-doom: 0 0 30px hsla(348, 75%, 50%, 0.4);
    --shadow-glow: 0 0 20px hsla(35, 80%, 45%, 0.3);
  }

  .dark {
    --background: 230 25% 3%;
    --foreground: 40 20% 80%;
    --card: 230 30% 8%;
    --card-foreground: 40 20% 85%;
    --popover: 230 30% 6%;
    --popover-foreground: 40 20% 80%;
    --primary: 348 75% 50%;
    --primary-foreground: 40 20% 95%;
    --secondary: 280 50% 20%;
    --secondary-foreground: 280 30% 85%;
    --muted: 230 20% 12%;
    --muted-foreground: 40 10% 50%;
    --accent: 35 80% 45%;
    --accent-foreground: 35 20% 95%;
    --destructive: 0 72% 45%;
    --destructive-foreground: 0 0% 98%;
    --border: 35 30% 20%;
    --input: 230 25% 15%;
    --ring: 348 75% 50%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: 'Crimson Pro', serif;
  }
}

@layer components {
  /* Custom scrollbar */
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    background: hsl(var(--leather));
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: hsl(var(--border));
    border-radius: 3px;
  }
  
  /* Hex clip path */
  .hex-clip {
    clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
  }
  
  /* Hide scrollbar utility */
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  /* Text stroke for important text */
  .text-stroke-sm {
    -webkit-text-stroke: 0.5px rgba(0,0,0,0.5);
  }
  
  /* Font display for titles */
  .font-display {
    font-family: 'Cinzel Decorative', serif;
  }
}

@layer utilities {
  /* Animations */
  @keyframes float-up {
    0% {
      opacity: 1;
      transform: translateY(0);
    }
    100% {
      opacity: 0;
      transform: translateY(-60px);
    }
  }
  
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    10% { transform: translateX(-8px) rotate(-1deg); }
    20% { transform: translateX(8px) rotate(1deg); }
    30% { transform: translateX(-8px) rotate(-1deg); }
    40% { transform: translateX(8px) rotate(1deg); }
    50% { transform: translateX(-4px); }
  }
  
  @keyframes doom-flicker {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.5; }
  }
  
  @keyframes lantern {
    0%, 100% { opacity: 0.15; transform: scale(4); }
    50% { opacity: 0.25; transform: scale(4.5); }
  }
  
  @keyframes wiggle {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-10deg); }
    75% { transform: rotate(10deg); }
  }
  
  @keyframes particle {
    0% {
      opacity: 1;
      transform: translate(0, 0) scale(1);
    }
    100% {
      opacity: 0;
      transform: translate(var(--tx), var(--ty)) scale(0.5);
    }
  }
  
  .animate-float-up {
    animation: float-up 2s ease-out forwards;
  }
  
  .animate-shake {
    animation: shake 0.5s ease-in-out;
  }
  
  .animate-lantern {
    animation: lantern 3s ease-in-out infinite;
  }
  
  .animate-wiggle {
    animation: wiggle 0.5s ease-in-out;
  }
  
  .particle {
    position: absolute;
    left: 50%;
    top: 50%;
    animation: particle 1s ease-out forwards;
  }
  
  /* Madness visual effects - Complete from Game Design Bible */
  .madness-hallucination {
    animation: hallucinate 4s ease-in-out infinite;
  }
  
  @keyframes hallucinate {
    0%, 100% { filter: hue-rotate(0deg); }
    50% { filter: hue-rotate(30deg) blur(1px); }
  }
  
  .madness-paranoia {
    animation: paranoia 2s ease-in-out infinite;
  }
  
  @keyframes paranoia {
    0%, 100% { filter: saturate(1) sepia(0); }
    50% { filter: saturate(1.5) sepia(0.3); }
  }

  .madness-hysteria {
    animation: hysteria-pulse 0.5s ease-in-out infinite;
  }
  
  @keyframes hysteria-pulse {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-2px) rotate(-0.5deg); }
    75% { transform: translateX(2px) rotate(0.5deg); }
  }
  
  .madness-catatonia {
    filter: saturate(0.5) brightness(0.8);
    transition: all 0.5s ease;
  }
  
  .madness-obsession .interactable {
    animation: obsession-glow 1.5s ease-in-out infinite;
  }
  
  @keyframes obsession-glow {
    0%, 100% { box-shadow: 0 0 5px hsl(var(--gold)); }
    50% { box-shadow: 0 0 20px hsl(var(--gold)); }
  }
  
  .madness-amnesia {
    position: relative;
  }
  
  .madness-amnesia::after {
    content: '';
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at center, transparent 20%, rgba(0,0,0,0.5) 100%);
    pointer-events: none;
    animation: amnesia-fog 3s ease-in-out infinite;
  }
  
  @keyframes amnesia-fog {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 0.9; }
  }
  
  .madness-night-terrors {
    animation: night-terrors 5s ease-in-out infinite;
  }
  
  @keyframes night-terrors {
    0%, 90%, 100% { filter: brightness(1); }
    92% { filter: brightness(1.5); }
    94% { filter: brightness(0.7); }
  }
  
  .madness-dark-insight {
    animation: dark-insight 3s ease-in-out infinite;
  }
  
  @keyframes dark-insight {
    0%, 100% { 
      filter: hue-rotate(0deg);
      box-shadow: inset 0 0 50px hsla(280, 60%, 50%, 0.2);
    }
    50% { 
      filter: hue-rotate(10deg);
      box-shadow: inset 0 0 80px hsla(280, 60%, 50%, 0.4);
    }
  }
}
